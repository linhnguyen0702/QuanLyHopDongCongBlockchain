# HÆ°á»›ng dáº«n sá»­ dá»¥ng MetaMask vá»›i Há»‡ thá»‘ng Quáº£n lÃ½ Há»£p Ä‘á»“ng

## ğŸ“± BÆ°á»›c 1: CÃ i Ä‘áº·t MetaMask

### 1.1. Táº£i MetaMask Extension

- **Chrome/Edge**: https://metamask.io/download/
- Nháº¥n "Install MetaMask for Chrome"
- ThÃªm extension vÃ o trÃ¬nh duyá»‡t

### 1.2. Táº¡o vÃ­ má»›i

1. Má»Ÿ MetaMask
2. Nháº¥n "Create a new wallet"
3. Äá»“ng Ã½ vá»›i Ä‘iá»u khoáº£n
4. Táº¡o máº­t kháº©u máº¡nh
5. **QUAN TRá»ŒNG**: LÆ°u Secret Recovery Phrase (12 tá»«) vÃ o nÆ¡i an toÃ n
   - âš ï¸ KHÃ”NG BAO GIá»œ chia sáº» vá»›i ai
   - Máº¥t Recovery Phrase = Máº¥t toÃ n bá»™ tiá»n

---

## ğŸŒ BÆ°á»›c 2: Chuyá»ƒn sang Sepolia Test Network

### 2.1. Báº­t Test Networks

1. Má»Ÿ MetaMask
2. Nháº¥n vÃ o biá»ƒu tÆ°á»£ng Account (gÃ³c trÃªn bÃªn pháº£i)
3. Settings â†’ Advanced
4. Báº­t "Show test networks"

### 2.2. Chuyá»ƒn Network

1. Nháº¥n dropdown network (á»Ÿ Ä‘áº§u MetaMask)
2. Chá»n "Sepolia test network"

---

## ğŸ’° BÆ°á»›c 3: Nháº­n Sepolia ETH miá»…n phÃ­ (Test ETH)

### 3.1. Copy Ä‘á»‹a chá»‰ vÃ­

1. Má»Ÿ MetaMask
2. Nháº¥n vÃ o Ä‘á»‹a chá»‰ vÃ­ (0x123...) Ä‘á»ƒ copy
3. Äá»‹a chá»‰ sáº½ cÃ³ dáº¡ng: `0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb`

### 3.2. Láº¥y ETH tá»« Faucet

Truy cáº­p má»™t trong cÃ¡c faucet sau:

**Alchemy Sepolia Faucet** (Khuyáº¿n nghá»‹)

- Link: https://sepoliafaucet.com/
- ÄÄƒng kÃ½ tÃ i khoáº£n Alchemy (miá»…n phÃ­)
- Paste Ä‘á»‹a chá»‰ vÃ­ â†’ Nháº¥n "Send Me ETH"
- Nháº­n: 0.5 Sepolia ETH

**Infura Sepolia Faucet**

- Link: https://www.infura.io/faucet/sepolia
- ÄÄƒng kÃ½ tÃ i khoáº£n Infura
- Paste Ä‘á»‹a chá»‰ vÃ­ â†’ Request

**QuickNode Faucet**

- Link: https://faucet.quicknode.com/ethereum/sepolia
- Káº¿t ná»‘i Twitter hoáº·c Discord
- Nháº­n 0.1 ETH

### 3.3. Kiá»ƒm tra sá»‘ dÆ°

- Má»Ÿ MetaMask
- Kiá»ƒm tra sá»‘ dÆ° ETH (cÃ³ thá»ƒ máº¥t 10-30 giÃ¢y)
- Cáº§n Ã­t nháº¥t **0.01 ETH** Ä‘á»ƒ tráº£ gas fee

---

## ğŸ”— BÆ°á»›c 4: Káº¿t ná»‘i vÃ­ vá»›i há»‡ thá»‘ng

### 4.1. Cáº­p nháº­t Ä‘á»‹a chá»‰ vÃ­ trong Profile

1. **ÄÄƒng nháº­p** vÃ o há»‡ thá»‘ng
2. VÃ o **Profile** (ThÃ´ng tin cÃ¡ nhÃ¢n)
3. Nháº¥n **"Chá»‰nh sá»­a"**
4. Paste Ä‘á»‹a chá»‰ vÃ­ vÃ o trÆ°á»ng **"Äá»‹a chá»‰ vÃ­ Blockchain"**
   ```
   VÃ­ dá»¥: 0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb
   ```
5. Nháº¥n **"LÆ°u"**

âœ… **BÃ¢y giá» há»‡ thá»‘ng Ä‘Ã£ biáº¿t Ä‘á»‹a chá»‰ vÃ­ cá»§a báº¡n!**

### 4.2. Káº¿t ná»‘i MetaMask vá»›i há»‡ thá»‘ng

1. á» gÃ³c trÃªn bÃªn pháº£i mÃ n hÃ¬nh, tÃ¬m nÃºt **"Káº¿t ná»‘i vÃ­"**
2. Nháº¥n vÃ o nÃºt
3. **MetaMask popup** sáº½ xuáº¥t hiá»‡n
4. Chá»n account muá»‘n káº¿t ná»‘i
5. Nháº¥n **"Next"** â†’ **"Connect"**

âœ… **Báº¡n sáº½ tháº¥y Chip mÃ u xanh hiá»ƒn thá»‹: 0x742d...0bEb**

---

## ğŸ“ BÆ°á»›c 5: Táº¡o há»£p Ä‘á»“ng vá»›i MetaMask

### 5.1. Workflow táº¡o há»£p Ä‘á»“ng

```
BÆ°á»›c 1: Äiá»n form táº¡o há»£p Ä‘á»“ng
   â†“
BÆ°á»›c 2: Nháº¥n "Táº¡o há»£p Ä‘á»“ng"
   â†“
BÆ°á»›c 3: MetaMask popup xuáº¥t hiá»‡n
   â†“
BÆ°á»›c 4: Xem láº¡i thÃ´ng tin transaction
   â†“
BÆ°á»›c 5: Nháº­p password MetaMask
   â†“
BÆ°á»›c 6: Nháº¥n "Confirm"
   â†“
BÆ°á»›c 7: Äá»£i transaction Ä‘Æ°á»£c xÃ¡c nháº­n (~15-30 giÃ¢y)
   â†“
BÆ°á»›c 8: âœ… ThÃ nh cÃ´ng!
```

### 5.2. Chi tiáº¿t cÃ¡c bÆ°á»›c

**BÆ°á»›c 1-2: Äiá»n thÃ´ng tin há»£p Ä‘á»“ng**

- VÃ o **Contracts** â†’ **Táº¡o há»£p Ä‘á»“ng má»›i**
- Äiá»n Ä‘áº§y Ä‘á»§ thÃ´ng tin:
  - Sá»‘ há»£p Ä‘á»“ng: HD001
  - TÃªn há»£p Ä‘á»“ng: XÃ¢y dá»±ng cáº§u ABC
  - NhÃ  tháº§u: CÃ´ng ty XYZ
  - GiÃ¡ trá»‹: 500000000
  - NgÃ y báº¯t Ä‘áº§u/káº¿t thÃºc
  - Loáº¡i há»£p Ä‘á»“ng, phÃ²ng ban, ngÆ°á»i phá»¥ trÃ¡ch
- Nháº¥n **"Táº¡o há»£p Ä‘á»“ng"**

**BÆ°á»›c 3: MetaMask Popup**

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        MetaMask Notification         â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Contract Interaction                â•‘
â•‘                                      â•‘
â•‘  From: 0x742d...0bEb                 â•‘
â•‘  To:   0xa631...ae39f (Contract)     â•‘
â•‘                                      â•‘
â•‘  Estimated gas fee: 0.002 ETH        â•‘
â•‘  Max fee: 0.003 ETH                  â•‘
â•‘                                      â•‘
â•‘  [Reject]          [Confirm]         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**BÆ°á»›c 4-6: XÃ¡c nháº­n transaction**

- Xem láº¡i:
  - âœ… Äá»‹a chá»‰ "From" lÃ  vÃ­ cá»§a báº¡n
  - âœ… Äá»‹a chá»‰ "To" lÃ  contract address
  - âœ… Gas fee (thÆ°á»ng 0.001-0.003 ETH)
- Nháº­p **password MetaMask**
- Nháº¥n **"Confirm"**

**BÆ°á»›c 7: Äá»£i confirmation**

```
â³ Äang xá»­ lÃ½...
   Há»‡ thá»‘ng Ä‘ang chá» blockchain xÃ¡c nháº­n
   Thá»i gian: 15-30 giÃ¢y

   Báº¡n cÃ³ thá»ƒ xem tiáº¿n trÃ¬nh trong MetaMask:
   Activity â†’ Pending
```

**BÆ°á»›c 8: ThÃ nh cÃ´ng!**

```
âœ… Transaction thÃ nh cÃ´ng!

   Transaction Hash: 0xabc123...
   Block Number: 12345678
   Gas Used: 0.002 ETH

   [Xem trÃªn Etherscan]
```

---

## ğŸ” XÃ¡c minh trÃªn Blockchain

### 6.1. Xem transaction trÃªn Etherscan

Sau khi táº¡o há»£p Ä‘á»“ng thÃ nh cÃ´ng, báº¡n cÃ³ thá»ƒ verify:

1. Click vÃ o **Transaction Hash** trong notification
2. Hoáº·c vÃ o https://sepolia.etherscan.io/
3. Paste transaction hash vÃ o Ã´ tÃ¬m kiáº¿m
4. Báº¡n sáº½ tháº¥y:
   - âœ… **From**: Äá»‹a chá»‰ vÃ­ cá»§a báº¡n (0x742d...)
   - âœ… **To**: Contract address (0xa631...)
   - âœ… **Status**: Success âœ“
   - âœ… **Block**: #12345678
   - âœ… **Timestamp**: 5 mins ago

### 6.2. Xem chi tiáº¿t trong Smart Contract

1. Click vÃ o **To** address (Contract)
2. Tab **"Contract"** â†’ **"Read Contract"**
3. TÃ¬m function `getContract`
4. Nháº­p sá»‘ há»£p Ä‘á»“ng (HD001) â†’ Query
5. Báº¡n sáº½ tháº¥y:
   ```
   contractNumber: "HD001"
   contractName: "XÃ¢y dá»±ng cáº§u ABC"
   createdBy: 0x742d35...0bEb  â† ÄÃ‚Y LÃ€ Äá»ŠA CHá»ˆ VÃ Cá»¦A Báº N!
   createdAt: 1699876543
   status: "draft"
   ```

âœ… **Chá»©ng minh blockchain ghi nháº­n Báº N lÃ  ngÆ°á»i táº¡o há»£p Ä‘á»“ng!**

---

## ğŸ¯ So sÃ¡nh: Backend Wallet vs User Wallet

### Backend Wallet (TrÆ°á»›c Ä‘Ã¢y)

```
Database: Manager A táº¡o há»£p Ä‘á»“ng HD001
Blockchain: 0x111... (há»‡ thá»‘ng) táº¡o há»£p Ä‘á»“ng HD001

âŒ KhÃ´ng thá»ƒ verify trÃªn blockchain
âŒ Táº¥t cáº£ transaction tá»« 1 Ä‘á»‹a chá»‰
```

### User Wallet (BÃ¢y giá») âœ…

```
Database: Manager A táº¡o há»£p Ä‘á»“ng HD001
Blockchain: 0x222... (Manager A) táº¡o há»£p Ä‘á»“ng HD001

âœ… HoÃ n toÃ n minh báº¡ch
âœ… CÃ³ thá»ƒ verify trÃªn Etherscan
âœ… Má»—i ngÆ°á»i 1 Ä‘á»‹a chá»‰ riÃªng
```

---

## âš ï¸ Xá»­ lÃ½ lá»—i thÆ°á»ng gáº·p

### Lá»—i 1: "Insufficient funds for gas"

```
âŒ Lá»—i: KhÃ´ng Ä‘á»§ ETH Ä‘á»ƒ tráº£ phÃ­ gas

âœ… Giáº£i phÃ¡p:
   1. Kiá»ƒm tra sá»‘ dÆ° MetaMask
   2. Cáº§n Ã­t nháº¥t 0.01 ETH
   3. Láº¥y thÃªm tá»« faucet (BÆ°á»›c 3.2)
```

### Lá»—i 2: "Äá»‹a chá»‰ vÃ­ khÃ´ng khá»›p"

```
âŒ Lá»—i: Äá»‹a chá»‰ vÃ­ khÃ´ng khá»›p!
   VÃ­ Ä‘ang káº¿t ná»‘i: 0xabc...
   VÃ­ trong profile: 0x123...

âœ… Giáº£i phÃ¡p:
   Option 1: Chuyá»ƒn account trong MetaMask sang Ä‘Ãºng vÃ­
   Option 2: Cáº­p nháº­t Ä‘á»‹a chá»‰ vÃ­ má»›i trong Profile
```

### Lá»—i 3: "User denied transaction"

```
âŒ Lá»—i: Báº¡n Ä‘Ã£ tá»« chá»‘i giao dá»‹ch trong MetaMask

âœ… Giáº£i phÃ¡p:
   Thá»­ láº¡i vÃ  nháº¥n "Confirm" trong MetaMask popup
```

### Lá»—i 4: "Wrong network"

```
âŒ Lá»—i: Báº¡n Ä‘ang á»Ÿ network khÃ¡c (Mainnet, Goerli...)

âœ… Giáº£i phÃ¡p:
   1. Má»Ÿ MetaMask
   2. Chá»n dropdown network
   3. Chuyá»ƒn sang "Sepolia test network"
   4. Hoáº·c há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng há»i chuyá»ƒn network
```

### Lá»—i 5: "Transaction underpriced"

```
âŒ Lá»—i: Gas price quÃ¡ tháº¥p

âœ… Giáº£i phÃ¡p:
   1. Trong MetaMask popup
   2. Nháº¥n "Edit" á»Ÿ gas fee
   3. Chá»n "Aggressive" hoáº·c tÄƒng gas price
   4. Confirm láº¡i
```

---

## ğŸ” Báº£o máº­t

### DO âœ…

- âœ… LÆ°u Secret Recovery Phrase á»Ÿ nÆ¡i an toÃ n (giáº¥y, kÃ©t sáº¯t)
- âœ… Sá»­ dá»¥ng máº­t kháº©u máº¡nh cho MetaMask
- âœ… Lock MetaMask khi khÃ´ng sá»­ dá»¥ng
- âœ… Kiá»ƒm tra Ä‘á»‹a chá»‰ contract trÆ°á»›c khi kÃ½
- âœ… Chá»‰ káº¿t ná»‘i vá»›i site tin cáº­y

### DON'T âŒ

- âŒ KHÃ”NG chia sáº» Secret Recovery Phrase
- âŒ KHÃ”NG chia sáº» Private Key
- âŒ KHÃ”NG lÆ°u Recovery Phrase dáº¡ng file text
- âŒ KHÃ”NG gá»­i Recovery Phrase qua email/chat
- âŒ KHÃ”NG screenshot Recovery Phrase

---

## ğŸ“Š Gas Fee Estimate

TrÃªn Sepolia testnet:

- **Táº¡o há»£p Ä‘á»“ng**: ~0.002-0.005 ETH
- **Cáº­p nháº­t há»£p Ä‘á»“ng**: ~0.001-0.003 ETH
- **PhÃª duyá»‡t**: ~0.001-0.002 ETH

ğŸ’¡ **LÆ°u Ã½**: ÄÃ¢y lÃ  test ETH, KHÃ”NG cÃ³ giÃ¡ trá»‹ tháº­t!

---

## ğŸ“ Best Practices

### Cho Manager/Admin:

1. **LuÃ´n cáº­p nháº­t Ä‘á»‹a chá»‰ vÃ­ trong Profile**
2. **Verify transaction trÃªn Etherscan** sau má»—i láº§n táº¡o
3. **Äáº£m báº£o cÃ³ Ä‘á»§ ETH** trÆ°á»›c khi thao tÃ¡c (Ã­t nháº¥t 0.05 ETH)
4. **Lock MetaMask** khi rá»i khá»i mÃ¡y tÃ­nh

### Cho User:

1. **KhÃ´ng tá»± Ã½ chuyá»ƒn ETH** ra khá»i vÃ­ (test ETH free)
2. **BÃ¡o vá»›i Admin** náº¿u háº¿t ETH
3. **KhÃ´ng share vÃ­** vá»›i ngÆ°á»i khÃ¡c

---

## ğŸ“ Há»— trá»£

### Lá»—i MetaMask:

- Docs: https://support.metamask.io/
- Community: https://community.metamask.io/

### Lá»—i há»‡ thá»‘ng:

- LiÃªn há»‡ Admin
- Email: admin@example.com

---

## âœ¨ TÃ³m táº¯t workflow

```
1. CÃ i MetaMask â†’ Táº¡o vÃ­
2. Chuyá»ƒn sang Sepolia network
3. Láº¥y test ETH tá»« faucet
4. Cáº­p nháº­t Ä‘á»‹a chá»‰ vÃ­ trong Profile
5. Káº¿t ná»‘i vÃ­ vá»›i há»‡ thá»‘ng
6. Táº¡o há»£p Ä‘á»“ng â†’ MetaMask popup â†’ Confirm
7. Äá»£i confirmation â†’ Success!
8. Verify trÃªn Etherscan
```

---

**ChÃºc báº¡n sá»­ dá»¥ng thÃ nh cÃ´ng!** ğŸ‰

_Cáº­p nháº­t: 12/11/2025_
